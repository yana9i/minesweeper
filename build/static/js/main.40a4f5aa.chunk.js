(this["webpackJsonpf2k-minecraft"]=this["webpackJsonpf2k-minecraft"]||[]).push([[0],{123:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},127:function(e,t,n){e.exports=n(403)},132:function(e,t,n){},133:function(e,t,n){},400:function(e,t,n){},401:function(e,t,n){},403:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),l=n(9),r=n.n(l),o=(n(132),n(40)),u=n(41),s=n(43),c=n(42),m=n(16),d=n(44),h=n(123),f=n.n(h),v=(n(133),n(124)),y=n(81),g=n.n(y),b=n(8),p=n(125),E=n.n(p),k=(n(400),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={password:"",username:""},n.onChange=n.onChange.bind(Object(m.a)(n)),n.onSubmit=n.onSubmit.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"onSubmit",value:function(e){var t;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.prev=1,n.next=4,g.a.awrap(E.a.get("http://127.0.0.1:8000/cas/webindex.do?act=verification&username="+this.state.username+"&password="+this.state.password));case 4:t=n.sent,console.log(this.state.username,t.data.toString()),this.state.username===t.data.toString()?this.onLoginSuccess():this.onLoginFall(),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),this.onLoginFall();case 12:this.props.onLogin();case 13:case"end":return n.stop()}}),null,this,[[1,9]])}},{key:"onLoginSuccess",value:function(){Object(b.Notification)({title:"\u767b\u5f55\u6210\u529f",message:"\u4f60\u521a\u521a\u5c1d\u8bd5\u4e86\u767b\u5f55\uff0c\u800c\u4e14\u4f60\u5c45\u7136\u767b\u5f55\u6210\u529f\u4e86\u3002\u73a9\u4e2a\u626b\u96f7\u4e5f\u8981\u767b\u5f55\uff0c\u8fd9\u5f88\u53cd\u76f4\u89c9\u3002\u4f46\u6ca1\u6709\u529e\u6cd5\uff0c\u6bd5\u7adf\u4e0d\u5f97\u4e0d\u8bf7\u6c42\u540e\u53f0\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u5f00\u53d1\u8005\u5de5\u5177\u67e5\u770b\u662f\u4e0d\u662f\u771f\u7684\u5411\u540e\u53f0\u53d1\u9001\u4e86\u8bf7\u6c42\u3002\u53e6\u5916\uff0c\u8fd9\u6761\u6d88\u606f\u9700\u8981\u4f60\u70b9\u6d88\u606f\u6846\u7684\u53c9\u624d\u4f1a\u5173\u95ed\u3002",duration:0,type:"success"})}},{key:"onLoginFall",value:function(){Object(b.Notification)({title:"\u767b\u5f55\u5931\u8d25",message:"\u4f60\u521a\u521a\u5c1d\u8bd5\u4e86\u767b\u5f55\uff0c\u4f46\u4f60\u767b\u5f55\u5931\u8d25\u4e86\u3002\n            \u73a9\u4e2a\u626b\u96f7\u4e5f\u8981\u767b\u5f55\uff0c\u8fd9\u5f88\u53cd\u76f4\u89c9\u3002\n            \u4f46\u6ca1\u6709\u529e\u6cd5\uff0c\u6bd5\u7adf\u4e0d\u5f97\u4e0d\u8bf7\u6c42\u540e\u53f0\u3002\n            \u4f60\u53ef\u4ee5\u901a\u8fc7\u5f00\u53d1\u8005\u5de5\u5177\u67e5\u770b\u662f\u4e0d\u662f\u771f\u7684\u5411\u540e\u53f0\u53d1\u9001\u4e86\u8bf7\u6c42\u3002\n            \u4f46\u5982\u679c\u53ea\u662f\u56e0\u4e3a\u767b\u5f55\u5931\u8d25\u5c31\u4e0d\u8ba9\u4f60\u73a9\u300cf2k\u626b\u96f7\u300d\u5c31\u592a\u6b8b\u5fcd\u4e86\u3002\u6240\u4ee5\u4f60\u8fd8\u662f\u53ef\u4ee5\u7ee7\u7eed\u73a9\u6e38\u620f\u3002\n            \u53e6\u5916\uff0c\u8fd9\u6761\u6d88\u606f\u9700\u8981\u4f60\u70b9\u6d88\u606f\u6846\u7684\u53c9\u624d\u4f1a\u5173\u95ed\u3002",duration:0,type:"warning"})}},{key:"onChange",value:function(e,t){this.setState(Object(v.a)({},t,e))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"Login-holder"},i.a.createElement(b.Popover,{placement:"top",width:"200",trigger:"hover",content:"\u2014\u2014\u6211\u4e5f\u4e0d\u77e5\u9053"},i.a.createElement("div",null,i.a.createElement("b",null,"\u4e3a\u4ec0\u4e48"),i.a.createElement("br",null),i.a.createElement("b",null,"\u626b\u4e2a\u96f7"),i.a.createElement("br",null),i.a.createElement("b",null,"\u8fd8\u9700\u8981\u8f93\u5bc6\u7801"),i.a.createElement("br",null),i.a.createElement("b",null,"\uff1f"),i.a.createElement("br",null),i.a.createElement("b",null,"\u5176\u5b9e\u968f\u4fbf\u8f93\u5165\u4e00\u4e2a\u7528\u6237\u540d\u548c\u5bc6\u7801\u5c31\u884c\u4e86"))),i.a.createElement("br",null),i.a.createElement(b.Form,{model:this.state.form,onSubmit:this.onSubmit,labelPosition:"left",labelWidth:"80"},i.a.createElement(b.Form.Item,{label:"\u7528\u6237\u540d"},i.a.createElement(b.Input,{type:"username",value:this.state.username,placeholder:"\u7528\u6237\u540d",onChange:function(t){e.onChange(t,"username")}})),i.a.createElement(b.Form.Item,{label:"\u5bc6\u7801"},i.a.createElement(b.Input,{type:"password",value:this.state.password,placeholder:"\u5bc6\u7801",onChange:function(t){e.onChange(t,"password")}})),i.a.createElement(b.Form.Item,null,i.a.createElement(b.Button,{type:"primary",nativeType:"submit"},"\u767b\u5f55"))))}}]),t}(i.a.Component)),C=n(126),F=n.n(C),S=(n(401),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={mineFiled:[[]],time:0,mineCount:0,flagCount:0,customize:{visible:!1,x:8,y:8,mineCount:1},presentShowing:"menu",hasGenerateFiled:!1,rank:[],dialogVisible:!1},n.table={columns:[{label:"\u5c0a\u59d3\u5927\u540d",prop:"name",align:"left"},{label:"\u8017\u65f6",prop:"time",align:"left",sortable:!0},{label:"\u96be\u5ea6",prop:"size",align:"left",filters:[{text:"\u521d\u7ea7",value:{size:81,mineCount:10}},{text:"\u4e2d\u7ea7",value:{size:256,mineCount:40}},{text:"\u9ad8\u7ea7",value:{size:480,mineCount:99}}],filterMethod:function(e,t){return t.size===e.size&&t.mineCount===e.mineCount},render:function(e){return 81===e.size&&10===e.mineCount?"\u521d\u7ea7":256===e.size&&40===e.mineCount?"\u4e2d\u7ea7":480===e.size&&99===e.mineCount?"\u9ad8\u7ea7":"\u81ea\u5b9a\u4e49\uff1a\u9762\u79ef ".concat(e.size," \u96f7\u6570 ").concat(e.mineCount)}}]},n.selectLevel=n.selectLevel.bind(Object(m.a)(n)),n.onFiledClick=n.onFiledClick.bind(Object(m.a)(n)),n.onFiledRightClick=n.onFiledRightClick.bind(Object(m.a)(n)),n.rankPush=n.rankPush.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"selectLevel",value:function(e,t,n){e>30&&(e=30),t>24&&(t=24),e<8&&(e=8),t<8&&(t=8),n>(e-1)*(t-1)&&(n=(e-1)*(t-1)),n<1&&(n=1);for(var a=[],i=e*t,l=[];i-- >0;)l.push({code:i<n?9:0,status:"hidden"});l=F.a.shuffle(l);for(var r=t;r-- >0;)a.push(l.slice(0,e)),l.splice(0,e);this.isCounting=!1,this.checkpoint=!1,this.setState({mineCount:n}),this.setState({mineFiled:a}),this.setState({time:0}),this.setState({flagCount:0}),this.setState({presentShowing:"game"}),this.setState({hasGenerateFiled:!1})}},{key:"onFiledClick",value:function(e,t){var n=this;this.isCounting=!0,this.setState((function(a){if(a.hasGenerateFiled||(n.generateFiled(e,t,a),a.hasGenerateFiled=!0),"hidden"===a.mineFiled[t][e].status)return 9===a.mineFiled[t][e].code?n.gameOver():(0===a.mineFiled[t][e].code&&n.dfsClick(e,t,a.mineFiled),a.mineFiled[t][e].status="clicked",n.hasWin(a)),a}))}},{key:"dfsClick",value:function(e,t,n){if(!n[t])return!1;if(!n[t][e])return!1;if("hidden"!==n[t][e].status)return!1;if(0!==n[t][e].code)return"hidden"===n[t][e].status&&(n[t][e].status="clicked"),!1;n[t][e].status="clicked";for(var a=[-1,0,1],i=0,l=a;i<l.length;i++){var r=l[i],o=!0,u=!1,s=void 0;try{for(var c,m=a[Symbol.iterator]();!(o=(c=m.next()).done);o=!0){var d=c.value;n[t+d]&&n[t+d][e+r]&&"hidden"===n[t+d][e+r].status&&this.dfsClick(e+r,t+d,n)}}catch(h){u=!0,s=h}finally{try{o||null==m.return||m.return()}finally{if(u)throw s}}}}},{key:"generateFiled",value:function(e,t,n){if(9===this.state.mineFiled[t][e].code){n.mineFiled[t][e].code=0;var a=!0,i=!1,l=void 0;try{for(var r,o=n.mineFiled[Symbol.iterator]();!(a=(r=o.next()).done);a=!0){var u=r.value,s=!1,c=!0,m=!1,d=void 0;try{for(var h,f=u[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var v=h.value;if(0===v.code){v.code=9,s=!0;break}}}catch(b){m=!0,d=b}finally{try{c||null==f.return||f.return()}finally{if(m)throw d}}if(s)break}}catch(b){i=!0,l=b}finally{try{a||null==o.return||o.return()}finally{if(i)throw l}}}for(var y in n.mineFiled)for(var g in n.mineFiled[y])9===n.mineFiled[y][g].code&&this.generateFiledNextToMine(g,y,n.mineFiled);return n}},{key:"generateFiledNextToMine",value:function(e,t,n){e=Number.parseInt(e),n[(t=Number.parseInt(t))-1]&&(n[t-1][e-1]&&n[t-1][e-1].code<9&&n[t-1][e-1].code++,n[t-1][e]&&n[t-1][e].code<9&&n[t-1][e].code++,n[t-1][e+1]&&n[t-1][e+1].code<9&&n[t-1][e+1].code++),n[t+1]&&(n[t+1][e-1]&&n[t+1][e-1].code<9&&n[t+1][e-1].code++,n[t+1][e]&&n[t+1][e].code<9&&n[t+1][e].code++,n[t+1][e+1]&&n[t+1][e+1].code<9&&n[t+1][e+1].code++),n[t][e+1]&&n[t][e+1].code<9&&n[t][e+1].code++,n[t][e-1]&&n[t][e-1].code<9&&n[t][e-1].code++}},{key:"onFiledRightClick",value:function(e,t){var n=this;this.isCounting=!0,this.setState((function(a){return"hidden"===a.mineFiled[t][e].status?(a.mineFiled[t][e].status="flag",a.flagCount++,n.hasWin(a),a):"flag"===a.mineFiled[t][e].status?(a.mineFiled[t][e].status="hidden",a.flagCount--,n.hasWin(a),a):void 0}))}},{key:"gameOver",value:function(){this.isCounting=!1,b.MessageBox.msgbox({title:"\u54ce\u5440\uff0c\u6e38\u620f\u5931\u8d25",message:"\u4f60\u8e29\u5230\u96f7\u4e86\u3002",type:"error",confirmButtonText:"\u6211\u6295\u7fd4"}),this.checkpoint=!0,this.setState((function(e){var t=!0,n=!1,a=void 0;try{for(var i,l=e.mineFiled[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var r=i.value,o=!0,u=!1,s=void 0;try{for(var c,m=r[Symbol.iterator]();!(o=(c=m.next()).done);o=!0){var d=c.value;"hidden"===d.status&&9===d.code&&(d.status="boom")}}catch(h){u=!0,s=h}finally{try{o||null==m.return||m.return()}finally{if(u)throw s}}}}catch(h){n=!0,a=h}finally{try{t||null==l.return||l.return()}finally{if(n)throw a}}return e}))}},{key:"gameWin",value:function(){var e=this;this.isCounting=!1,b.MessageBox.prompt("\u5c0a\u59d3\u5927\u540d","\u4f60\u626b\u5b8c\u4e86",{showCancelButton:!1,confirmButtonText:"\u5584"}).then((function(t){var n=t.value;t.value||(n="\u65e0\u540d\u6c0f"),e.rankPush({name:n,time:e.state.time,size:e.state.mineFiled.length*e.state.mineFiled[0].length,mineCount:e.state.mineCount})})),this.checkpoint=!0,this.setState((function(e){var t=!0,n=!1,a=void 0;try{for(var i,l=e.mineFiled[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var r=i.value,o=!0,u=!1,s=void 0;try{for(var c,m=r[Symbol.iterator]();!(o=(c=m.next()).done);o=!0){var d=c.value;"hidden"===d.status&&9===d.code&&(d.status="flag")}}catch(h){u=!0,s=h}finally{try{o||null==m.return||m.return()}finally{if(u)throw s}}}}catch(h){n=!0,a=h}finally{try{t||null==l.return||l.return()}finally{if(n)throw a}}return e}))}},{key:"hasWin",value:function(e){(function(){var t=!0,n=!1,a=void 0;try{for(var i,l=e.mineFiled[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var r=i.value,o=!0,u=!1,s=void 0;try{for(var c,m=r[Symbol.iterator]();!(o=(c=m.next()).done);o=!0){var d=c.value;if(d.code<9&&"hidden"===d.status)return!1}}catch(h){u=!0,s=h}finally{try{o||null==m.return||m.return()}finally{if(u)throw s}}}}catch(h){n=!0,a=h}finally{try{t||null==l.return||l.return()}finally{if(n)throw a}}return!0}()||function(){var t=!0,n=!1,a=void 0;try{for(var i,l=e.mineFiled[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var r=i.value,o=!0,u=!1,s=void 0;try{for(var c,m=r[Symbol.iterator]();!(o=(c=m.next()).done);o=!0){var d=c.value;if(9===d.code&&"flag"!==d.status)return!1}}catch(h){u=!0,s=h}finally{try{o||null==m.return||m.return()}finally{if(u)throw s}}}}catch(h){n=!0,a=h}finally{try{t||null==l.return||l.return()}finally{if(n)throw a}}return!0}())&&this.gameWin()}},{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.tick()}),1e3),document.querySelector(".el-dialog__wrapper").style.zIndex=999,document.querySelector(".v-modal").style.zIndex=998}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){var e=this;this.setState((function(t){return e.isCounting&&t.time++,t}))}},{key:"rankPush",value:function(e){this.setState((function(t){return t.rank.push(e),t}))}},{key:"render",value:function(){var e=this,t=i.a.createElement("div",null,i.a.createElement(b.Layout.Row,null,i.a.createElement(b.Button,{onClick:function(){e.selectLevel(9,9,10)}},"\u521d\u7ea7")),i.a.createElement("br",null),i.a.createElement(b.Layout.Row,null,i.a.createElement(b.Button,{type:"success",onClick:function(){e.selectLevel(16,16,40)}},"\u4e2d\u7ea7")),i.a.createElement("br",null),i.a.createElement(b.Layout.Row,null,i.a.createElement(b.Button,{type:"warning",onClick:function(){e.selectLevel(30,16,99)}},"\u9ad8\u7ea7")),i.a.createElement("br",null),i.a.createElement(b.Layout.Row,null,i.a.createElement(b.Popover,{placement:"top",width:"360",trigger:"click",visible:this.state.customize.visible,content:i.a.createElement("div",null,i.a.createElement("h3",null,"\u81ea\u5b9a\u4e49\u96f7\u533a"),i.a.createElement(b.Form,null,i.a.createElement(b.Form.Item,{label:"\u96f7\u533a\u5bbd\u5ea6"},i.a.createElement(b.InputNumber,{defaultValue:this.state.customize.x,onChange:function(t){e.setState((function(e){return e.customize.x=t}))},min:"8",max:"30"})),i.a.createElement(b.Form.Item,{label:"\u96f7\u533a\u9ad8\u5ea6"},i.a.createElement(b.InputNumber,{defaultValue:this.state.customize.y,onChange:function(t){e.setState((function(e){return e.customize.y=t}))},min:"8",max:"24"})),i.a.createElement(b.Form.Item,{label:"\u96f7\u533a\u96f7\u6570"},i.a.createElement(b.InputNumber,{defaultValue:this.state.customize.mineCount,onChange:function(t){e.setState((function(e){return e.customize.mineCount=t}))},min:"1",max:(this.state.customize.x-1)*(this.state.customize.y-1)})),i.a.createElement("div",null,i.a.createElement(b.Button,{type:"primary",size:"mini",onClick:function(){e.selectLevel(e.state.customize.x,e.state.customize.y,e.state.customize.mineCount)}},"\u786e\u5b9a"))))},i.a.createElement(b.Button,{type:"danger"},"\u81ea\u5b9a\u4e49"))),i.a.createElement("br",null),i.a.createElement(b.Layout.Row,null,i.a.createElement(b.Button,{type:"info",onClick:function(){e.setState({dialogVisible:!0})}},"\u6392\u884c\u699c"))),n=i.a.createElement("div",{className:"filedHolder"},i.a.createElement("div",null,this.state.mineFiled.map((function(t,n){return i.a.createElement("div",{key:n},t.map((function(t,a){return i.a.createElement("span",{key:a,className:"filedCell "+t.status+" filed-code-"+t.code,onMouseDown:function(t){t.preventDefault(),t.nativeEvent.stopImmediatePropagation(),e.checkpoint||(0===t.button&&e.onFiledClick(a,n),2===t.button&&e.onFiledRightClick(a,n))}},"boom"===t.status?"\ud83d\udca3":"flag"===t.status?"\ud83d\udea9":"clicked"===t.status&&t.code>0?t.code:"")})))}))),i.a.createElement("br",null),i.a.createElement("div",{width:"900px"},i.a.createElement(b.Layout.Row,null,i.a.createElement(b.Layout.Col,null,i.a.createElement("span",null,"\u7528\u65f6\uff1a",this.state.time)),i.a.createElement(b.Layout.Col,null,i.a.createElement(b.Button,{onClick:function(){e.setState({presentShowing:"menu"})}}," \u8fd4\u56de\u83dc\u5355 ")),i.a.createElement(b.Layout.Col,null,i.a.createElement("span",null,"\u672a\u6807\u8bb0\u7684\u96f7\u6570\uff1a",this.state.mineCount-this.state.flagCount))))),a=i.a.createElement(b.Dialog,{title:"\u6392\u884c\u699c",visible:this.state.dialogVisible,onCancel:function(){return e.setState({dialogVisible:!1})}},i.a.createElement(b.Dialog.Body,null,this.state.dialogVisible&&i.a.createElement(b.Table,{style:{width:"100%"},stripe:!0,columns:this.table.columns,defaultSort:{prop:"time"},data:this.state.rank})));return i.a.createElement("div",null,"menu"===this.state.presentShowing?t:null,"game"===this.state.presentShowing?n:null,a)}}]),t}(i.a.Component)),w=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={hasLogin:!1},n.onLogin=n.onLogin.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"onLogin",value:function(){this.setState({hasLogin:!0})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("div",{className:"Header-holder"},i.a.createElement("div",{className:"Header-item"},i.a.createElement("img",{src:f.a,className:"App-logo",alt:"logo"}),i.a.createElement("span",null,"F2k-MineCraft"),this.state.hasLogin?i.a.createElement("span",{className:"Header-item-right",onClick:function(){e.setState({hasLogin:!1})}},"\u9000\u51fa\u767b\u5f55"):null))),i.a.createElement("div",{className:"App-main"},this.state.hasLogin?i.a.createElement(S,null):i.a.createElement(k,{onLogin:this.onLogin})))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(402);document.oncontextmenu=function(e){return e.preventDefault()},r.a.render(i.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[127,1,2]]]);
//# sourceMappingURL=main.40a4f5aa.chunk.js.map